webpackJsonp([1],{1852:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(367),n=l(u),r=a(781),o=l(r),i=a(1),s=l(i),d=a(239),p=l(d),c=a(122),m=l(c),f=a(237),h=l(f),y=a(3),b=l(y),v=a(6),_=l(v),g=a(5),k=l(g),E=a(4),x=l(E),N=a(783),T=l(N);a(782),a(150),a(149),a(784);var F=a(0),C=l(F),D=(a(62),a(8)),M=(l(D),a(151)),P=a(238),B=a(364),R=(l(B),T.default.Item),S=function(e){function t(){return(0,b.default)(this,t),(0,k.default)(this,(t.__proto__||(0,h.default)(t)).apply(this,arguments))}return(0,x.default)(t,e),(0,_.default)(t,[{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.props.form.validateFields(function(e,a){e||(a.time=Date.parse(new Date)/1e3,t.props.onSubmit(a))})}},{key:"goBack",value:function(){this.props.dispatch(M.routerRedux.push({pathname:"/tableManager"}))}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t={labelCol:{span:3},wrapperCol:{span:12}};return C.default.createElement("div",{className:"content-inner"},C.default.createElement("div",{style:{borderBottom:"1px solid #ddd",marginBottom:20,paddingBottom:10}},C.default.createElement(m.default,{style:{marginRight:10},onClick:this.goBack.bind(this)},"\u8fd4\u56de"),C.default.createElement(m.default,{type:"primary",onClick:this.onSubmit.bind(this)},"\u786e\u8ba4")),C.default.createElement(T.default,null,C.default.createElement(R,(0,s.default)({},t,{label:"\u6a21\u5757"}),e("template",{initialValue:this.props.template,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6a21\u5757"}]})(C.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165\u6a21\u5757"}))),C.default.createElement(R,(0,s.default)({},t,{label:"\u6a21\u5757\u540d\u79f0"}),e("template_name",{initialValue:this.props.template_name,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6a21\u5757\u540d\u79f0"}]})(C.default.createElement(p.default,{placeholder:"\u8bf7\u8f93\u5165\u6a21\u5757\u540d\u79f0"}))),C.default.createElement(R,(0,s.default)({},t,{label:"\u72b6\u6001"}),e("status",{valuePropName:"checked",initialValue:!!this.props.status})(C.default.createElement(o.default,{checkedChildren:"\u5f00",unCheckedChildren:"\u5173"}))),C.default.createElement(R,(0,s.default)({},t,{label:"\u6570\u636e\u5185\u5bb9"}),e("cont",{initialValue:this.props.cont,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6a21\u5757\u6570\u636e\u5185\u5bb9"}]})(C.default.createElement(p.default,{type:"textarea",placeholder:'\u793a\u4f8b\uff1a[{"Field":"uid","Type":"int(10)","Null":"NO","Key":"PRI","Default":null,"Extra":"auto_increment"},{"Field":"name","Type":"varchar(20)","Null":"NO","Key":"UNI","Default":null,"Extra":""}]',autosize:{minRows:5,maxRows:10}})),C.default.createElement("div",{style:{color:"#666",marginTop:"10px",lineHeight:"18px"}},"\u793a\u4f8b\uff1a",(0,n.default)([{Field:"uid",Type:"int(10)",Null:"NO",Key:"PRI",Default:null,Extra:"auto_increment"},{Field:"name",Type:"varchar(20)",Null:"NO",Key:"UNI",Default:null,Extra:""}],null,2)))))}}]),t}(F.Component);S.contextTypes={router:F.PropTypes.object},S.defaultProps={template:"",cont:"",template_name:"",status:1,time:""},t.default=(0,P.connect)(function(e){e.tableManager;return{}})(T.default.create()(S)),e.exports=t.default},798:function(e,t,a){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var u=a(240),n=l(u),r=a(1),o=l(r),i=a(237),s=l(i),d=a(3),p=l(d),c=a(6),m=l(c),f=a(5),h=l(f),y=a(4),b=l(y);a(241);var v=a(0),_=l(v),g=a(238),k=a(1852),E=l(k),x=a(151),N=(a(62),a(364),{module:"tableManager"}),T=function(e){function t(e,a){return(0,p.default)(this,t),(0,h.default)(this,(t.__proto__||(0,s.default)(t)).call(this,e,a))}return(0,b.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.dispatch,a=e.match,l=a.params&&a.params.id;l&&t({type:"tableForm/loadTable",payload:(0,o.default)({id:l},N)})}},{key:"componentWillUnmount",value:function(){this.props.dispatch({type:"tableForm/resetState"})}},{key:"goBack",value:function(){this.props.dispatch(x.routerRedux.push({pathname:"/tableManager"}))}},{key:"onSubmit",value:function(e){var t=this,a=n.default.loading("\u6b63\u5728\u4fdd\u5b58...",0);this.props.dispatch({type:"tableForm/saveTable",payload:(0,o.default)({},this.props,{template:e.template,cont:e.cont,template_name:e.template_name,status:e.status,time:e.time},N,{callback:function(e){a(),e&&e.success?(n.default.success("\u4fdd\u5b58\u6210\u529f"),t.goBack()):n.default.error("\u4fdd\u5b58\u5931\u8d25")}})})}},{key:"render",value:function(){var e=this.props;return _.default.createElement(E.default,{template:e.template,cont:e.cont,template_name:e.template_name,status:e.status,seotitle:e.seotitle,time:e.time,onSubmit:this.onSubmit.bind(this)})}}]),t}(v.Component);T.contextTypes={router:v.PropTypes.object},t.default=(0,g.connect)(function(e){var t=e.tableForm,a=e.app;return(0,o.default)({},t,{content:t.con,uid:a.user.uid,name:a.user.name})})(T),e.exports=t.default}});